package com.demo.crud.api.rest.service;

import java.util.List;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.demo.crud.api.rest.dto.RegistroEmpleadoDTO;
import com.demo.crud.api.rest.entity.RegistroEmpleado;
import com.demo.crud.api.rest.repository.EmpleadoRepository;

@Service
public class RegistroEmpleadoService{

	@Autowired
	private EmpleadoRepository empleadoRepository;
	
	public RegistroEmpleado agregarEmpleado(RegistroEmpleado registroEmpleado) {
		return empleadoRepository.save(registroEmpleado); // se va para el controller
	}
	public RegistroEmpleado editarEmpleado(RegistroEmpleado registroEmpleado) {
		
		return empleadoRepository.save(registroEmpleado); // se va para el controller
	}
	public List<RegistroEmpleado> findAllEmpleados(){
        return empleadoRepository.findAll();
    }
	public Optional<RegistroEmpleado> findEmpleadoById(Long id)
    {
        return empleadoRepository.findEmpleadoById(id);     
    }

    public RegistroEmpleado updateUsuarioId(Long usuarioId, RegistroEmpleado usuarioRequest)
    {​​​​​​​​
        return usuarioDao.findById(usuarioId).map(usuario -> {​​​​​​​​
            usuario.setNombres(usuarioRequest.getNombres());
            usuario.setApellidos(usuarioRequest.getApellidos());
            usuario.setCedula(usuarioRequest.getCedula());
            usuario.setTelefono(usuarioRequest.getTelefono());
            return usuarioDao.save(usuario);
        }​​​​​​​​).orElseThrow(() -> new ResourceNotFoundException("Actualizar UsuarioId " + usuarioId + "Not Found" ));
    }​​​​​​​​

}
